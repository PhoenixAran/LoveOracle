---@param spriteBank SpriteBank
local function moduleFunction(spriteBank)
  local sb = spriteBank.createSpriteAnimationBuilder()
  sb:setSpriteSheet('effects')
  sb:setDefaultLoopType('once')
  sb:setSubstrips(false)


  -- TODO idk what preview animations do in the original 

  --@animation effect_splash
  sb:addCompositeSprite(3, 3, 0, -11)
  sb:addCompositeSprite(4, 3, 0, -11)
  sb:addCompositeFrame(0, 0, 0, 0, 4)

  sb:addCompositeSprite(3, 3, -2, -13)
  sb:addCompositeSprite(4, 3, 2, -13)
  sb:addCompositeFrame(0, 0, 0, 0, 4)

  sb:addCompositeSprite(3, 3, -4, -15)
  sb:addCompositeSprite(4, 3, 4, -13)
  sb:addCompositeFrame(0, 0, 0, 0, 4)

  local splashAnimation = sb:build()
  spriteBank.registerAnimation('effect_splash', splashAnimation)

  --@animation effect_leaves
  sb:setSubstrips(false)
  sb:setLoopType('once')
  sb:addCompositeSprite(3, 2, -8, -4)
  sb:addCompositeSprite(4, 2, 6, -5)
  sb:addCompositeSprite(2, 2, -1, -3)
  sb:addCompositeSprite(3, 2, 2, -1)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(3, 2, -5, -5)
  sb:addCompositeSprite(4, 2, 3, -4)
  sb:addCompositeSprite(2, 2, 0, -5)
  sb:addCompositeSprite(3, 2, 2, 2)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(4, 2, -4, -6)
  sb:addCompositeSprite(4, 2, 0, -2)
  sb:addCompositeSprite(2, 2, -2, -6)
  sb:addCompositeSprite(4, 2, 3, 4)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(4, 2, -3, -8)
  sb:addCompositeSprite(4, 2, 1, -2)
  sb:addCompositeSprite(2, 2, -3, 6)
  sb:addCompositeSprite(4, 2, 3, 6)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(4, 2, -4, -9)
  sb:addCompositeSprite(4, 2, 4, 2)
  sb:addCompositeSprite(2, 2, -6, 6)
  sb:addCompositeSprite(4, 2, 5, 8)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(3, 2, -5, -10)
  sb:addCompositeSprite(4, 2, 5, 2)
  sb:addCompositeSprite(1, 2, -10, 6)
  sb:addCompositeSprite(3, 2, 6, 9)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(3, 2, -6, -11)
  sb:addCompositeSprite(3, 2, 8, 2)
  sb:addCompositeSprite(1, 2, -11, 5)
  sb:addCompositeSprite(3, 2, 7, 11)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(3, 2, -7, -12)
  sb:addCompositeSprite(3, 2, 9, 3)
  sb:addCompositeSprite(1, 2, -13, 3)
  sb:addCompositeSprite(3, 2, 8, 9)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  spriteBank.registerAnimation('effect_leaves', sb:build())

  --@animation effect_grass_leaves
  sb:addCompositeSprite(3, 2, -8, -4)
  sb:addCompositeSprite(4, 2, 6, -5)
  sb:addCompositeSprite(2, 2, -1, -3)
  sb:addCompositeSprite(3, 2, 2, -1)
  sb:addCompositeFrame(0, 0, 0, 0, 4, 0.5)
  sb:addCompositeSprite(3, 2, -5, -5)
  sb:addCompositeSprite(4, 2, 3, -4)
  sb:addCompositeSprite(2, 2, 0, -5)
  sb:addCompositeSprite(3, 2, 2, 2)
  sb:addCompositeFrame(0, 0, 0, 0, 4, 0.5)
  sb:addCompositeSprite(4, 2, -4, -6)
  sb:addCompositeSprite(4, 2, 0, -2)
  sb:addCompositeSprite(2, 2, -2, -6)
  sb:addCompositeSprite(4, 2, 3, 4)
  sb:addCompositeFrame(0, 0, 0, 0, 4, 0.5)
  sb:addCompositeSprite(4, 2, -3, -8)
  sb:addCompositeSprite(4, 2, 1, -2)
  sb:addCompositeSprite(2, 2, -3, 6)
  sb:addCompositeSprite(4, 2, 3, 6)
  sb:addCompositeFrame(0, 0, 0, 0, 4, 0.5)
  sb:addCompositeSprite(4, 2, -4, -9)
  sb:addCompositeSprite(4, 2, 4, 2)
  sb:addCompositeSprite(2, 2, -6, 6)
  sb:addCompositeSprite(4, 2, 5, 8)
  sb:addCompositeFrame(0, 0, 0, 0, 4, 0.5)
  sb:addCompositeSprite(3, 2, -5, -10)
  sb:addCompositeSprite(4, 2, 5, 2)
  sb:addCompositeSprite(1, 2, -10, 6)
  sb:addCompositeSprite(3, 2, 6, 9)
  sb:addCompositeFrame(0, 0, 0, 0, 4, 0.5)
  sb:addCompositeSprite(3, 2, -6, -11)
  sb:addCompositeSprite(3, 2, 8, 2)
  sb:addCompositeSprite(1, 2, -11, 5)
  sb:addCompositeSprite(3, 2, 7, 11)
  sb:addCompositeFrame(0, 0, 0, 0, 4, 0.5)
  sb:addCompositeSprite(3, 2, -7, -12)
  sb:addCompositeSprite(3, 2, 9, 3)
  sb:addCompositeSprite(1, 2, -13, 3)
  sb:addCompositeSprite(3, 2, 8, 9)
  sb:addCompositeFrame(0, 0, 0, 0, 4, 0.5)
  spriteBank.registerAnimation('effect_grass_leaves', sb:build())

  --@animation item_scent_pod
  sb:addSpriteFrame(1, 4, 0, 0, 8)
  sb:addSpriteFrame(2, 4, 0, 0, 8)
  spriteBank.registerAnimation('item_scent_pod', sb:build())

  --@animation effect_leaves_red
  sb:addCompositeSprite(7, 2, -8, -4)
  sb:addCompositeSprite(8, 2, 6, -5)
  sb:addCompositeSprite(6, 2, -1, -3)
  sb:addCompositeSprite(7, 2, 2, -1)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(7, 2, -5, -5)
  sb:addCompositeSprite(8, 2, 3, -4)
  sb:addCompositeSprite(6, 2, 0, -5)
  sb:addCompositeSprite(7, 2, 2, 2)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(8, 2, -4, -6)
  sb:addCompositeSprite(8, 2, 0, -2)
  sb:addCompositeSprite(6, 2, -2, -6)
  sb:addCompositeSprite(8, 2, 3, 4)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(8, 2, -3, -8)
  sb:addCompositeSprite(8, 2, 1, -2)
  sb:addCompositeSprite(6, 2, -3, 6)
  sb:addCompositeSprite(8, 2, 3, 6)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(8, 2, -4, -9)
  sb:addCompositeSprite(8, 2, 4, 2)
  sb:addCompositeSprite(6, 2, -6, 6)
  sb:addCompositeSprite(8, 2, 5, 8)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(7, 2, -5, -10)
  sb:addCompositeSprite(8, 2, 5, 2)
  sb:addCompositeSprite(5, 2, -10, 6)
  sb:addCompositeSprite(7, 2, 6, 9)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(7, 2, -6, -11)
  sb:addCompositeSprite(7, 2, 8, 2)
  sb:addCompositeSprite(5, 2, -11, 5)
  sb:addCompositeSprite(7, 2, 7, 11)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(7, 2, -7, -12)
  sb:addCompositeSprite(7, 2, 9, 3)
  sb:addCompositeSprite(5, 2, -13, 3)
  sb:addCompositeSprite(7, 2, 8, 9)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  spriteBank.registerAnimation('effect_leaves_red', sb:build())

  --@animation effect_rock_break
  sb:setLoopType('once')
  sb:addCompositeSprite(3, 1, -4, -5)
  sb:addCompositeSprite(3, 1, 5, -6)
  sb:addCompositeSprite(3, 1, -6, 4)
  sb:addCompositeSprite(3, 1, 4, 3)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(3, 1, -6, -6)
  sb:addCompositeSprite(3, 1, 7, -7)
  sb:addCompositeSprite(3, 1, -7, 5)
  sb:addCompositeSprite(3, 1, 6, 4)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(3, 1, -7, -7)
  sb:addCompositeSprite(3, 1, 9, -8)
  sb:addCompositeSprite(3, 1, -9, 6)
  sb:addCompositeSprite(3, 1, 8, 5)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(3, 1, -9, -5)
  sb:addCompositeSprite(3, 1, 11, -6)
  sb:addCompositeSprite(3, 1, -11, 8)
  sb:addCompositeSprite(3, 1, 10, 7)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  spriteBank.registerAnimation('effect_rock_break', sb:build())

  --@animation effect_red_brick_break
  sb:setLoopType('once')
  sb:addCompositeSprite(4, 1, -4, -5)
  sb:addCompositeSprite(4, 1, 5, -6)
  sb:addCompositeSprite(4, 1, -6, 4)
  sb:addCompositeSprite(4, 1, 4, 3)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(4, 1, -6, -6)
  sb:addCompositeSprite(4, 1, 7, -7)
  sb:addCompositeSprite(4, 1, -7, 5)
  sb:addCompositeSprite(4, 1, 6, 4)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(4, 1, -7, -7)
  sb:addCompositeSprite(4, 1, 9, -8)
  sb:addCompositeSprite(4, 1, -9, 6)
  sb:addCompositeSprite(4, 1, 8, 5)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  sb:addCompositeSprite(4, 1, -9, -5)
  sb:addCompositeSprite(4, 1, 11, -6)
  sb:addCompositeSprite(4, 1, -11, 8)
  sb:addCompositeSprite(4, 1, 10, 7)
  sb:addCompositeFrame(0, 0, 0, 0, 4)
  spriteBank.registerAnimation('effect_red_brick_break', sb:build())

  --@animation effect_lava_splash
  sb:setSpriteSheet('color_effects_red')
  sb:addCompositeSprite(5, 4, -7 + 7, -13)
  sb:addCompositeSprite(5, 4, -9 + 7, -13)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_orange')
  sb:addCompositeSprite(5, 4, -6 + 7, -14)
  sb:addCompositeSprite(5, 4, -10 + 7, -14)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_inverse_red')
  sb:addCompositeSprite(5, 4, -5 + 7, -15)
  sb:addCompositeSprite(5, 4, -11 + 7, -15)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_red')
  sb:addCompositeSprite(5, 4, -4 + 7, -16)
  sb:addCompositeSprite(5, 4, -12 + 7, -16)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_orange')
  sb:addCompositeSprite(5, 4, -3 + 7, -17)
  sb:addCompositeSprite(5, 4, -13 + 7, -17)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_inverse_red')
  sb:addCompositeSprite(5, 4, -2 + 7, -16)
  sb:addCompositeSprite(5, 4, -14 + 7, -16)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_red')
  sb:addCompositeSprite(5, 4, -1 + 7, -15)
  sb:addCompositeSprite(5, 4, -15 + 7, -15)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_orange')
  sb:addCompositeSprite(5, 4, 0 + 7, -14)
  sb:addCompositeSprite(5, 4, -16 + 7, -14)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_inverse_red')
  sb:addCompositeSprite(5, 4, 1 + 7, -13)
  sb:addCompositeSprite(5, 4, -17 + 7, -13)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_red')
  sb:addCompositeSprite(5, 4, 1 + 7, -13)
  sb:addCompositeSprite(5, 4, -17 + 7, -13)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  spriteBank.registerAnimation('effect_lava_splash', sb:build())

  --@animation effect_bomb_explosion
  sb:setSpriteSheet('color_effects_red')
  sb:addSpriteFrame(1, 1, 0, 0)
  sb:setSpriteSheet('color_effects_inverse_red')
  sb:addSpriteFrame(1, 1, 0, 0)
  sb:setSpriteSheet('color_effects_red')
  sb:addSpriteFrame(1, 1, 0, 0)
  sb:addCompositeSprite(1, 1, -6, -6)
  sb:addCompositeSprite(1, 1,  6, -6)
  sb:addCompositeSprite(1, 1, -6,  2)
  sb:addCompositeSprite(1, 1,  6,  2)
  sb:addCompositeFrame(0, 0, 0, 0, 7)
  sb:addCompositeSprite(7, 2, -8, -8)
  sb:addCompositeSprite(8, 2,  8, -8)
  sb:addCompositeSprite(7, 3, -8,  8)
  sb:addCompositeSprite(8, 3,  8,  8)
  sb:addCompositeFrame(0, 0, 0, 0, 8)
  sb:addCompositeSprite(2, 1, -8, -8)
  sb:addCompositeSprite(2, 1,  8, -8)
  sb:addCompositeSprite(2, 1, -8,  8)
  sb:addCompositeSprite(2, 1,  8,  8)
  sb:addCompositeFrame(0, 0, 0, 0, 9)
  spriteBank.registerAnimation('effect_bomb_explosion', sb:build())

  --@animation effect_monster_explosion
  sb:setSpriteSheet('color_effects_red')
  sb:addCompositeSprite(1, 1, -4 + 8, -14 + 8)
  sb:addCompositeSprite(1, 1, -12 + 8, -2 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 5)
  sb:setSpriteSheet('color_effects_green')
  sb:addCompositeSprite(7, 1, -16 + 8, -16 + 8)
  sb:addCompositeSprite(7, 1, 0 + 8, 0 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_blue')
  sb:addCompositeSprite(7, 1, -16 + 8, -16 + 8)
  sb:addCompositeSprite(7, 1, 0 + 8, 0 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_green')
  sb:addCompositeSprite(7, 1, -16 + 8, -16 + 8)
  sb:addCompositeSprite(7, 1, 0 + 8, 0 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_blue')
  sb:addCompositeSprite(7, 1, -16 + 8, -16 + 8)
  sb:addCompositeSprite(7, 1, 0 + 8, 0 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 2)
  sb:setSpriteSheet('color_effects_orange')
  sb:addSpriteFrame(7, 1, 0, 0, 2)
  sb:setSpriteSheet('color_effects_red')
  sb:addSpriteFrame(7, 1, 0, 0, 2)
  sb:setSpriteSheet('color_effects_orange')
  sb:addSpriteFrame(8, 1, 0, 0, 2)
  spriteBank.registerAnimation('effect_monster_explosion', sb:build())

  -- TODO REPURPOSE THESE

  --@animation effect_seed_scent
  sb:setSpriteSheet('color_effects_orange')
  sb:addSpriteFrame(9, 1, 0, 0, 3)
  sb:addSpriteFrame(7, 1, 0, 0, 3)
  sb:addSpriteFrame(8, 1, 3)
  spriteBank.registerAnimation('effect_seed_scent', sb:build())

  --@animation effect_seed_pegasus
  sb:setSpriteSheet('color_effects_blue')
  sb:addSpriteFrame(4, 1, 0, 0, 3)
  sb:addSpriteFrame(1, 1, 0, 0, 3)
  sb:addSpriteFrame(2, 1, 0, 0, 3)
  spriteBank.registerAnimation('effect_seed_pegasus', sb:build())

  --@animation effect_seed_mystery
  sb:setSpriteSheet('color_effects_green')
  sb:addSpriteFrame(4, 1, 0, 0, 3)
  sb:addSpriteFrame(1, 1, 0, 0, 3)
  sb:addSpriteFrame(2, 1, 0, 0, 3)
  spriteBank.registerAnimation('effect_seed_mystery', sb:build())

  -- @animation seed_ember
  sb:setSpriteSheet('color_effects_red')
  sb:addSpriteFrame(4, 4, 0, 0, 2)
  sb:addSpriteFrame(4, 3, 0, 0, 2)
  sb:setSpriteSheet('color_effects_inverse_red')
  sb:addSpriteFrame(4, 2, 0, 0, 2)
  sb:setSpriteSheet('color_effects_red')
  sb:addSpriteFrame(4, 2, 0, 0, 2)
  sb:repeatBuild(3, function()
    sb:addSpriteFrame(4, 3, 0, 0, 2)
    sb:setSpriteSheet('color_effects_inverse_red')
    sb:addSpriteFrame(4, 2, 0, 0, 2)
    sb:setSpriteSheet('color_effects_red')
    sb:addSpriteFrame(4, 2, 0, 0, 2)
  end)
  sb:addSpriteFrame(4, 3, 0, 0, 2)
  spriteBank.registerAnimation('effect_seed_ember', sb:build())

  -- @animation effect_seed_gale
  sb:setSpriteSheet('color_effects_blue')
  sb:addSpriteFrame(5, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_red')
  sb:addSpriteFrame(5, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_orange')
  sb:addSpriteFrame(5, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_green')
  sb:addSpriteFrame(6, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_blue')
  sb:addSpriteFrame(6, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_red')
  sb:addSpriteFrame(6, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_orange')
  sb:addSpriteFrame(5, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_green')
  sb:addSpriteFrame(5, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_blue')
  sb:addSpriteFrame(5, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_red')
  sb:addSpriteFrame(6, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_orange')
  sb:addSpriteFrame(6, 2, 0, 0, 1)
  sb:setSpriteSheet('color_effects_green')
  sb:addSpriteFrame(6, 2, 0, 0, 1)
  spriteBank.registerAnimation('effect_seed_gale', sb:build())


  -- @animation effect_burn
  sb:repeatBuild(3, function()
    sb:setSpriteSheet('color_effects_red')
    sb:addSpriteFrame(4, 3, 0, 0, 1)
    sb:setSpriteSheet('color_effects_orange')
    sb:addSpriteFrame(4, 3, 0, 0, 2)
    sb:setSpriteSheet('color_effects_inverse_red')
    sb:addSpriteFrame(4, 3, 0, 0, 2)
    sb:setSpriteSheet('color_effects_red')
    sb:addSpriteFrame(4, 2, 0, 0, 3)
    sb:setSpriteSheet('color_effects_orange')
    sb:addSpriteFrame(4, 2, 0, 0, 3)
    sb:setSpriteSheet('color_effects_inverse_red')
    sb:addSpriteFrame(4, 2, 0, 0, 2)
  end)
  spriteBank.registerAnimation('effect_burn', sb:build())

  -- @animation effect_block_poof
  sb:setSpriteSheet('color_effects_orange')
  sb:setDefaultLoopType('once')
  sb:addSpriteFrame(1, 1, 0, 0, 6)
  sb:addSpriteFrame(2, 1, 0, 0, 8)
  sb:addSpriteFrame(6, 1, 0, 0, 5)
  spriteBank.registerAnimation('effect_block_poof', sb:build())

  -- @animation pegasus_dust
  sb:setSubstrips(false)
  sb:setLoopType('once')
  sb:setSpriteSheet('color_effects_orange')
  sb:addCompositeSprite(6, 1, -12 + 8, -10 + 8)
  sb:addCompositeSprite(6, 1, -4 + 8, -10 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 1)
  sb:setSpriteSheet('color_effects_green')
  sb:addCompositeSprite(9, 2, -14 + 8, -7 + 8)
  sb:addCompositeSprite(9, 3, -10 + 8, -11 + 8)
  sb:addCompositeSprite(9, 2, -1 + 8, -7 + 8)
  sb:addCompositeSprite(9, 3, -5 + 8, -11 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 1)
  sb:setSpriteSheet('color_effects_blue')
  sb:addCompositeSprite(9, 3, -14 + 8, -7 + 8)
  sb:addCompositeSprite(9, 2, -10 + 8, -11 + 8)
  sb:addCompositeSprite(9, 3, -1 + 8, -7 + 8)
  sb:addCompositeSprite(9, 2, -5 + 8, -11 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 1)
  sb:setSpriteSheet('color_effects_red')
  sb:addCompositeSprite(9, 2, -13 + 8, -7 + 8)
  sb:addCompositeSprite(9, 3, -10 + 8, -11 + 8)
  sb:addCompositeSprite(9, 2, -1 + 8, -7 + 8)
  sb:addCompositeSprite(9, 3, -6 + 8, -11 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 1)
  sb:setSpriteSheet('color_effects_orange')
  sb:addCompositeSprite(9, 3, -17 + 8, -5 + 8)
  sb:addCompositeSprite(9, 2, -12 + 8, -9 + 8)
  sb:addCompositeSprite(9, 3, 2 + 8, -5 + 8)
  sb:addCompositeSprite(9, 2, -3 + 8, -9 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 1)
  sb:setSpriteSheet('color_effects_green')
  sb:addCompositeSprite(9, 2, -17 + 8, -5 + 8)
  sb:addCompositeSprite(9, 3, -12 + 8, -9 + 8)
  sb:addCompositeSprite(9, 2, -4 + 8, -5 + 8)
  sb:addCompositeSprite(9, 3, -3 + 8, -9 + 8)
  sb:addCompositeFrame(0, 0, 0, 0, 1)
  spriteBank.registerAnimation('effect_pegasus_dust', sb:build())

  -- @animation sprint_puff
  sb:setSubstrips(false)
  sb:setLoopType('once')
  sb:setSpriteSheet('color_effects_orange')
  sb:addSpriteFrame(4, 1, 0, 0, 2, 0.5)
  sb:addSpriteFrame(5, 1, 0, 0, 4, 0.5)
  sb:addSpriteFrame(6, 1, 0, 0, 3, 0.5)
  spriteBank.registerAnimation('effect_sprint_puff', sb:build())

  -- @animation effect_somaria_block_create
  sb:setSpriteSheet('color_effects_orange')
  sb:addSpriteFrame(4, 1, 0, 0, 3)
  sb:addSpriteFrame(1, 1, 0, 0, 3)
  sb:addSpriteFrame(2, 1, 0, 0, 3)
  spriteBank.registerAnimation('effect_somaria_block_create', sb:build())

  -- @animation effect_somaria_block_destroy
  sb:setSpriteSheet('color_effects_orange')
  sb:setDefaultLoopType('once')
  sb:addSpriteFrame(1, 1, 0, 0, 6)
  sb:addSpriteFrame(2, 1, 0, 0, 8)
  sb:addSpriteFrame(6, 1, 0, 0, 5)
  spriteBank.registerAnimation('effect_somaria_block_destroy', sb:build())

  -- @animation projectile_tile_fire_shooter_small
  sb:setSubstrips(true)
  sb:setLoopType('cycle')
  local buildProjectileTileFireShooterSubstripSmall = function(substrip, default, columnOffset)
    if default == nil then
      default = false
    end
    if columnOffset == nil then
      columnOffset = 0
    end
    sb:setSpriteSheet('color_effects_red')
    sb:addSpriteFrame(1 + columnOffset, 4, 0, 0, 2)
    sb:setSpriteSheet('color_effects_orange')
    sb:addSpriteFrame(1 + columnOffset, 4, 0, 0, 2)
    sb:setSpriteSheet('color_effects_inverse_red')
    sb:addSpriteFrame(1 + columnOffset, 4, 0, 0, 2)
    sb:buildSubstrip(substrip, default)
  end
  buildProjectileTileFireShooterSubstripSmall('up', false, 3)
  buildProjectileTileFireShooterSubstripSmall('down', true, 1)
  buildProjectileTileFireShooterSubstripSmall('left', false, 2)
  buildProjectileTileFireShooterSubstripSmall('right', false, 0)
  spriteBank.registerAnimation('projectile_tile_fire_shooter_small', sb:build())
  
  --@animation projectile_tile_fire_shooter_medium
  sb:setSubstrips(true)
  sb:setLoopType('cycle')
  local buildProjectileTileFireShooterSubstripMedium = function(substrip, default, columnOffset)
    if default == nil then
      default = false
    end
    if columnOffset == nil then
      columnOffset = 0
    end
    sb:setSpriteSheet('color_effects_red')
    sb:addSpriteFrame(1 + columnOffset, 3, 0, 0, 2)
    sb:setSpriteSheet('color_effects_orange')
    sb:addSpriteFrame(1 + columnOffset, 3, 0, 0, 2)
    sb:setSpriteSheet('color_effects_inverse_red')
    sb:addSpriteFrame(1 + columnOffset, 3, 0, 0, 2)
    sb:buildSubstrip(substrip, default)
  end
  buildProjectileTileFireShooterSubstripMedium('up', false, 3)
  buildProjectileTileFireShooterSubstripMedium('down', true, 1)
  buildProjectileTileFireShooterSubstripMedium('left', false, 2)
  buildProjectileTileFireShooterSubstripMedium('right', false, 0)
  spriteBank.registerAnimation('projectile_tile_fire_shooter_medium', sb:build())


  --@animation projectile_tile_fiur_shooter_large
  sb:setSubstrips(true)
  sb:setLoopType('cycle')
  local buildProjectileTileFireShooterSubstripLarge = function(substrip, default, columnOffset)
    if default == nil then
      default = false
    end
    if columnOffset == nil then
      columnOffset = 0
    end
    sb:setSpriteSheet('color_effects_red')
    sb:addSpriteFrame(1 + columnOffset, 2, 0, 0, 2)
    sb:setSpriteSheet('color_effects_orange')
    sb:addSpriteFrame(1 + columnOffset, 2, 0, 0, 2)
    sb:setSpriteSheet('color_effects_inverse_red')
    sb:addSpriteFrame(1 + columnOffset, 2, 0, 0, 2)
    sb:buildSubstrip(substrip, default)
  end
  buildProjectileTileFireShooterSubstripLarge('up', false, 3)
  buildProjectileTileFireShooterSubstripLarge('down', true, 1)
  buildProjectileTileFireShooterSubstripLarge('left', false, 2)
  buildProjectileTileFireShooterSubstripLarge('right', false, 0)
  spriteBank.registerAnimation('projectile_tile_fire_shooter_large', sb:build())

  --===========================================================
  -- Color Effects Below
  --===========================================================
  -- TODO projectile_tile_fire_shooter_medium
  -- TODO projectile_tile_fire_shooter_large

  local function createColorEffectFlame(color)
    -- @animation effect_color_flame
    sb:setSpriteSheet('color_effects_' .. color)
    sb:setDefaultLoopType('cycle')
    sb:addSpriteFrame(6, 4, 0, 0, 8)
    sb:addSpriteFrame(7, 4, 0, 0, 8)
    sb:addSpriteFrame(8, 4, 0, 0, 8)
    sb:addSpriteFrame(9, 4, 0, 0, 8)
    spriteBank.registerAnimation('effect_color_flame_' .. color, sb:build())
  end
  createColorEffectFlame('blue')
  createColorEffectFlame('green')
  createColorEffectFlame('inverse_red')
  createColorEffectFlame('orange')
  createColorEffectFlame('red')


  local function createColorEffectOwlSparkle(color)
    -- @animation effect_owl_sparkle
    sb:setSpriteSheet('color_effects_' .. color)
    sb:setDefaultLoopType('once')
    sb:addSpriteFrame(9, 1, 0, 0, 9)
    sb:addSpriteFrame(9, 2, 0, 0, 18)
    sb:addSpriteFrame(9, 3, 0, 0, 9)
    sb:addSpriteFrame(9, 4, 0, 0, 9)
    local animation = sb:build()
    spriteBank.registerAnimation('effect_owl_sparkle_' .. color, animation)
  end
  createColorEffectOwlSparkle('blue')
  createColorEffectOwlSparkle('green')
  createColorEffectOwlSparkle('inverse_red')
  createColorEffectOwlSparkle('orange')
  createColorEffectOwlSparkle('red')

  local function createColorEffectFallingObject(color)
    -- @animation effect_falling_object
    sb:setSpriteSheet('color_effects_' .. color)
    sb:setDefaultLoopType('once')
    sb:addSpriteFrame(4, 1, 0, 0, 8)
    sb:addSpriteFrame(5, 1, 0, 0, 12)
    sb:addSpriteFrame(6, 1, 0, 0, 13)
    local animation = sb:build()
    spriteBank.registerAnimation('effect_falling_object_' .. color, animation)
  end

  createColorEffectFallingObject('blue')
  createColorEffectFallingObject('green')
  createColorEffectFallingObject('inverse_red')
  createColorEffectFallingObject('orange')
  createColorEffectFallingObject('red')

  local function createColorEffectCling(color)
    -- @animation effect_cling
    sb:setSpriteSheet('color_effects_' .. color)
    sb:setDefaultLoopType('once')
    sb:addSpriteFrame(7, 1, 0, 0, 4)
    sb:addSpriteFrame(8, 1, 0, 0, 5)
    local animation = sb:build()
    spriteBank.registerAnimation('effect_cling_' .. color, animation)
  end
  createColorEffectCling('blue')
  createColorEffectCling('green')
  createColorEffectCling('inverse_red')
  createColorEffectCling('orange')
  createColorEffectCling('red')

  local function createColorEffectClingLight(color)
    -- @animation effect_cling_light
    sb:setSpriteSheet('color_effects_' .. color)
    sb:setDefaultLoopType('once')
    sb:addSpriteFrame(7, 1, 0, 0, 4)
    sb:addSpriteFrame(8, 1, 0, 0, 5)
    local animation = sb:build()
    spriteBank.registerAnimation('effect_cling_light_' .. color, animation)
  end
  createColorEffectClingLight('blue')
  createColorEffectClingLight('green')
  createColorEffectClingLight('inverse_red')
  createColorEffectClingLight('orange')
  createColorEffectClingLight('red')

end

return moduleFunction